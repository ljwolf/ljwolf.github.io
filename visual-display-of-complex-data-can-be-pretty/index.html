<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8" />
<meta name="author" content="Levi John Wolf" />
<meta name="description" content="just a geograblog" />
<meta name="keywords" content="" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.36" />

<link rel="canonical" href="/visual-display-of-complex-data-can-be-pretty/">
<base href="/" />
<meta property="og:title" content="sampling distributions at each grid site" />
<meta property="og:description" content="This is a visualization of one hierarchical parameter from a a spatially-varying coefficient process model, estimated on a simple 10x10 grid. The model itself is a pretty neat way to specify a spatially-varying process with an efficient formal structure. I won&rsquo;t go into the specification here, but my growing interest in MLM/HLM means I&rsquo;ll probably be posting about SVCP-style models more frequently.
The point of this, though, is that characterizing both the spatial distribution of hierarchical parameter means and the distributions of those parameters for each individual unit is hard." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/visual-display-of-complex-data-can-be-pretty/" />



<meta property="article:published_time" content="2016-06-03T01:40:17&#43;00:00"/>

<meta property="article:modified_time" content="2016-06-03T01:40:17&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="sampling distributions at each grid site"/>
<meta name="twitter:description" content="This is a visualization of one hierarchical parameter from a a spatially-varying coefficient process model, estimated on a simple 10x10 grid. The model itself is a pretty neat way to specify a spatially-varying process with an efficient formal structure. I won&rsquo;t go into the specification here, but my growing interest in MLM/HLM means I&rsquo;ll probably be posting about SVCP-style models more frequently.
The point of this, though, is that characterizing both the spatial distribution of hierarchical parameter means and the distributions of those parameters for each individual unit is hard."/>



<meta itemprop="name" content="sampling distributions at each grid site">
<meta itemprop="description" content="This is a visualization of one hierarchical parameter from a a spatially-varying coefficient process model, estimated on a simple 10x10 grid. The model itself is a pretty neat way to specify a spatially-varying process with an efficient formal structure. I won&rsquo;t go into the specification here, but my growing interest in MLM/HLM means I&rsquo;ll probably be posting about SVCP-style models more frequently.
The point of this, though, is that characterizing both the spatial distribution of hierarchical parameter means and the distributions of those parameters for each individual unit is hard.">


<meta itemprop="datePublished" content="2016-06-03T01:40:17&#43;00:00" />
<meta itemprop="dateModified" content="2016-06-03T01:40:17&#43;00:00" />
<meta itemprop="wordCount" content="457">



<meta itemprop="keywords" content="geography, statistics, grad school, python, gis,imported,image," />


<link rel="stylesheet" href="css/layout.css" />
<style type="text/css">
body {
  background-color: #f5f5f5;
  color: #444444;
}

a { color: #444444; }

pre {
  background: ;
  border: 1px solid #444444;
  border-radius: 5px;
}

code {
  background: ;
}

blockquote {
  background: ;
  border-left: 3px solid #444444;
}

table {
  margin: 1em auto;
  border-collapse: collapse;
}

table, th, td {
  border: 1px solid #444444;
}

th {
  background: #444444;
  color: #f5f5f5;
}

.siteTitle a { color: #e84848; }

.post .content h1{ color: #e84848; }
.post .content h2{ color: #e84848; }
.post .content h3{ color: #e84848; }
.post .content h4{ color: #e84848; }
.post .content h5{ color: #e84848; }
.post .content h6{ color: #e84848; }
.post .content a:hover { color: #e84848; }
.social-link:hover { color: #e84848; }
.nav-item-title:hover { color: #e84848; }
.tag a:hover { color: #e84848; }
.copyright { color: #404040 }
.poweredby { color: #404040 }
.poweredby a { color: #404040; }
.post-preview .title a{ color: #e84848; }
.content-item a:hover{
  text-decoration: underline;
  color: #e84848;
}
.post-list .title { color: #e84848; }
.rmore { color: #e84848; }
.terms .term a:hover {
  text-decoration: underline;
  color: #e84848;
}

</style>



<title>


     sampling distributions at each grid site 

</title>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="/">Yet Another Geographer</a>
    </div> 

    
    
    <a class="nav-item" href="/about/"><div class="nav-item-title">About | </div></a>
    
    <a class="nav-item" href="https://www.dropbox.com/s/y5mjkduq7bopzex/currvita.pdf?dl=0"><div class="nav-item-title"> CV |  </div></a>
    
    <a class="nav-item" href="http://www.bristol.ac.uk/geography/people/levi-j-wolf/overview.html"><div class="nav-item-title"> Bristol |  </div></a>
    
    <a class="nav-item" href="https://spatial.uchicago.edu"><div class="nav-item-title"> Chicago |  </div></a>
    
    <a class="nav-item" href="https://spatial.uchicago.edu"><div class="nav-item-title"> UCR |  </div></a>
    
    <a class="nav-item" href="/talks/"><div class="nav-item-title"> Talks | </div></a>
    
    <a class="nav-item active" href="/post/"><div class="nav-item-title">Posts</div></a>
    

  </nav>
</div>



</header>


<article class="post">
    <h1 class="title"> sampling distributions at each grid site </h1>
    <div class="content"> <figure> <img src=//78.media.tumblr.com/cf10dc435036ea04c78a86e736fd750e/tumblr_o86l35Jg0B1ts05oao1_1280.png> </figure>

<p>This is a visualization of one hierarchical parameter from a a <a href="http://link.springer.com/article/10.1007/s10109-006-0040-y" target="_blank">spatially-varying coefficient process model</a>, estimated on a simple 10x10 grid. The model itself is a pretty neat way to specify a spatially-varying process with an efficient formal structure. I won&rsquo;t go into the specification here, but my growing interest in MLM/HLM means I&rsquo;ll probably be posting about SVCP-style models more frequently.</p>

<p>The point of this, though, is that characterizing both the spatial distribution of hierarchical parameter means <strong>and</strong> the distributions of those parameters for each individual unit is hard. Essentially, you&rsquo;re making a map of distributions. And, for a regular lattice, this is somewhat more simple than you&rsquo;d expect: set the background of each unit to an indicator of centrality for the distribution in that unit, and then superimpose the distribution. Since each window is the same size, each distribution is on the same perceptive plane, so comparisons of both the pattern &amp; the distribution are relatively simple.</p>

<p>But, if the windows were differently sized, we&rsquo;d want a way to handle the classic cartographic problem: bigger elements on maps are seen as more important than smaller elements. Once the cells are differently-sized, the distributions would be harder to compare directly. We&rsquo;d have to figure out how to make the distributions comparable, even when they sit in frames that are not identically sized.</p>

<p>In reality, the reason why I&rsquo;m fretting about this is because I&rsquo;ve been immersed in the nitty-gritty of the statsistical theory behind spatial multilevel/hierarchical models &amp; am about to head deep into applying them for my RA &amp; my doctoral dissertation.</p>

<p>For the SVCP, Iâ€™m prepping this as a reference implementation to move to two enhancements.</p>

<ol><li>The original specification from <a href="http://www.people.vcu.edu/~dbandyop/pubh8472/Gelfand_SVC.pdf" target="_blank">Gelfand 2003</a> and that in the <a href="https://www.crcpress.com/Hierarchical-Modeling-and-Analysis-for-Spatial-Data-Second-Edition/Banerjee-Carlin-Gelfand/p/book/9781439819173" target="_blank">Bannerjee Spatial HLM book</a> use an Inverse Wishart prior on their coefficient process covariance matrix. This is <a href="http://andrewgelman.com/2012/08/22/the-scaled-inverse-wishart-prior-distribution-for-a-covariance-matrix-in-a-hierarchical-model/" target="_blank">less than ideal</a>, since IW covariance priors result in some <a href="https://dahtah.wordpress.com/2012/03/07/why-an-inverse-wishart-prior-may-not-be-such-a-good-idea/" target="_blank">pretty surprising statistical artifacts. </a>. Switching to an LKJ prior or a separation strategy prior for the project I need to use the SVCP on is a high priority.</li>
<li>I want to pivot the sampler to use PyMC3. I wrote the Gibbs sampler for the model myself; since all except for one parameter are analytically tractable draws from known builtin distributions, this is super simple to write. But, it&rsquo;d be nice to not have to use MH on a range-restricted, weakly-identified parameter. In fact, this particular model would be very amenable to an approximation straetgy, since the prior on the spatial decay parameter, $\phi$, is <em>very nearly</em> a normal-gamma distribution, and could probably be well-approximated by one. Plus, PyMC3 has an LKJ prior already implemented, and I know I&rsquo;ll be wanting to use it in other spatial HLMs.</li>
</ol>

<p><small><i> imported from:</i> <a href='https://yetanothergeographer.tumblr.com/145342859409/visual-display-of-complex-data-can-be-pretty'<tt>yetanothergeographer</tt></a></small></p>
 </div>
    <footer class="post-footer">

  <div class="post-footer-data">
    
<div class="tags">
    
      <div class="tag">
        <a href="/tags/geography">#geography</a>
      </div>
    
      <div class="tag">
        <a href="/tags/statistics"># statistics</a>
      </div>
    
      <div class="tag">
        <a href="/tags/grad-school"># grad school</a>
      </div>
    
      <div class="tag">
        <a href="/tags/python"># python</a>
      </div>
    
      <div class="tag">
        <a href="/tags/gis"># gis</a>
      </div>
    
      <div class="tag">
        <a href="/tags/imported">#imported</a>
      </div>
    
      <div class="tag">
        <a href="/tags/image">#image</a>
      </div>
    
</div>

    <div class="date"> Jun 3, 2016 </div>
  </div>

</footer>


  


</article>

  <footer>

  <div class="social-links-footer">

  
  <a href="mailto:levi.john.wolf@gmail.com"><div class="social-link">Email</div></a>
  

  
  <a href="https://github.com/ljwolf" target="_blank"><div class="social-link">GitHub</div></a>
  

  

  
  <a href="https://twitter.com/levijohnwolf" target="_blank"><div class="social-link">Twitter</div></a>
  

  

  <div class="social-link">
  <a href="/index.xml" target="_blank">RSS</a>
  </div>

</div>


  <div class="copyright">  </div>

  <div class="poweredby">
      thanks, <a href="https://gohugo.io/">Hugo</a>.
  </div>

  </footer>

</div> 

</body>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</html>

